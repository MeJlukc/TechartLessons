<?php
class Material {
    private $name;      // Название материала
    private $weight;    // Вес в тоннах
    private $isDivisible; // Можно ли делить (true/false)
    
    public function __construct($name, $weight, $isDivisible) {
        // TODO: Написать конструктор
        $this -> name = $name;
        $this -> weight = $weight;
        $this -> isDivisible = $isDivisible;
    }
    
    // TODO: Сделать геттеры для всех свойств
    public function getName() {
        return $this -> name;
    }

    public function getWeight() {
        return $this -> weight;
    }

    public function isDivisible() {
        return $this -> isDivisible;
    }
}

class Truck {
    private $number;           // Номер машины
    private $maxCapacity;      // Максимальная грузоподъемность
    private $currentLoad = 0;  // Текущая загрузка (начинается с 0)
    private $cargo = [];       // Что загружено (массив материалов)
    
    public function __construct($number, $maxCapacity) {
        // TODO: Написать конструктор
        $this -> number = $number;
        $this -> maxCapacity = $maxCapacity;
    }
    
    // TODO: Геттеры для свойств
    public function getNumber() {
        return $this -> number;
    }

    public function getMaxCapacity() {
        return $this -> maxCapacity;
    }

    public function getCurrentLoad() {
        return $this -> currentLoad;
    }

    public function getCargo() {
        return $this -> cargo;
    }
    
    public function loadMaterial(Material $material, $amount = 1) {
        /*
        Загрузить материал в грузовик
        $amount - сколько штук/частей материала грузим
        
        Проверить:
        1. Если материал НЕ делимый, то $amount должен быть целым числом
        2. Не превысит ли загрузка максимальную грузоподъемность
        3. Если всё ок - добавить материал в $cargo и увеличить $currentLoad

        если не ок, то выдаем исключение или false

        */
        if (!($material -> isDivisible()) && (is_float($amount))) {
            throw new Exception("Material is non divisible");
        } else if (($material -> getWeight() * $amount) > ($this -> maxCapacity - $this -> currentLoad)) {
            throw new Exception("Material is too heavy");
        }
        $this -> cargo[] = $material -> getName();
        $this -> currentLoad += $material -> getWeight() * $amount;
    }
    
    private function canLoad($weight) {
        // Проверить, можно ли загрузить еще $weight тонн
        return ($this -> maxCapacity - $this -> currentLoad) >= $weight;
    }
    
    public function getInfo() {
        // Вернуть строку с информацией о грузовике
        // Пример: "Грузовик А123 (загружено 5.5/10 тонн)"
        return "Грузовик {$this -> number} (загружено {$this -> currentLoad}/{$this -> maxCapacity} тонн)";
    }
    
    public function getCargoList() {
        // Вернуть список материалов в грузовике
        return join("\n", $this -> cargo);
    }
}


$sand = new Material("Песок", 0.5, true);
$brick = new Material("Кирпич", 1.0, false);
$slab = new Material("Плита", 2.5, false);


$truck1 = new Truck("А123АА", 10);
$truck2 = new Truck("В456ВВ", 5);


$truck1->loadMaterial($sand, 4);
$truck1->loadMaterial($brick, 3);

$truck2->loadMaterial($slab, 2);


echo $truck1->getInfo();
echo $truck2->getInfo();
?>
